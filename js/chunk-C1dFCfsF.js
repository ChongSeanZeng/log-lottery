import{d as e,c as l,a,o as t,b as o,G as s,F as r,B as u,n,u as c,s as d,r as i,aa as p,w as b,h as m,t as v,j as f,D as x,E as w,q as g,J as C,H as h,m as y,ab as k,ac as L}from"./chunk-FIPsYJBc.js";import{a as V,u as P,i as T,l as U,t as _,e as S,f as A}from"./chunk-Dd0MDqUR.js";const D={class:"w-full h-auto"},I=["onClick"],R=V(e({__name:"PatternSetting",props:{rowCount:{type:Number,default:17},cardColor:{type:String,default:"#fff"},patternColor:{type:String,default:"#000"},patternList:{type:Array,default:()=>[]}},setup(e){const c=e,d=l(()=>c);return(e,l)=>(t(),a("div",D,[o("ul",{class:"pattern-list",style:s({gridTemplateColumns:`repeat(${d.value.rowCount},1fr)`})},[(t(!0),a(r,null,u(7*d.value.rowCount,e=>(t(),a("li",{key:e,class:"w-5 h-5",style:s({backgroundColor:d.value.patternList.includes(e)?d.value.patternColor:d.value.cardColor}),onClick:n(l=>function(e,l){if(d.value.patternList.includes(l)){const e=d.value.patternList.indexOf(l);d.value.patternList.splice(e,1)}else d.value.patternList.push(l)}(0,e),["stop"])},null,12,I))),128))],4)]))}}),[["__scopeId","data-v-170dfa96"]]),z={class:"modal-box"},N={class:"text-lg font-bold"},j={class:"py-4"},q={class:"modal-action"},B={method:"dialog",class:"flex gap-3"},H={class:"mb-8"},F={class:"flex flex-row items-center w-full gap-24 mb-10 form-control"},O={class:""},E={class:"label"},G={class:"label-text"},J=["placeholder"],M={class:"flex flex-row items-center w-full gap-24 mb-10 form-control"},W={class:""},$={class:"label"},K={class:"label-text"},Q={class:"help"},X={key:0,class:"text-sm text-red-400 help-text"},Y=["data-tip"],Z=["disabled"],ee={class:"loading loading-ring loading-md"},le={class:"w-full max-w-xs form-control"},ae={class:"label"},te={class:"label-text"},oe={disabled:"",selected:""},se=["value"],re={class:"w-full max-w-xs form-control"},ue={class:"label"},ne={class:"label-text"},ce={disabled:"",selected:""},de=["value"],ie={class:"w-full max-w-xs form-control"},pe={class:"label"},be={class:"label-text"},me={disabled:"",selected:""},ve=["value"],fe={class:"w-full max-w-xs form-control"},xe={class:"label"},we={class:"label-text"},ge={class:"w-full max-w-xs form-control"},Ce={class:"label"},he={class:"label-text"},ye={class:"w-full max-w-xs form-control"},ke={class:"label"},Le={class:"label-text"},Ve={class:"flex flex-row w-full max-w-xs gap-10 mb-10 form-control"},Pe={class:"label"},Te={class:"label-text"},Ue={class:"label"},_e={class:"label-text"},Se={class:"w-full max-w-xs mb-10 form-control"},Ae={class:"label"},De={class:"label-text"},Ie={class:"w-full max-w-xs form-control"},Re={class:"label"},ze={class:"label-text"},Ne={class:"flex flex-row items-center w-full gap-24 mb-0 form-control"},je={class:"label"},qe={class:"label-text"},Be={class:"h-auto"},He={class:"flex w-full h-24 gap-3 m-0"},Fe=["data-tip"],Oe={class:"w-full max-w-xs mb-10 form-control"},Ee={class:"label"},Ge={class:"label-text"},Je=["checked"],Me={class:"w-full max-w-xs mb-10 form-control"},We={class:"label"},$e={class:"label-text"},Ke=["checked"],Qe=e({__name:"FaceConfig",setup(e){const{t:l}=c(),s=P().globalConfig,V=P().personConfig,D=P().prizeConfig,{getTopTitle:I,getTheme:Qe,getPatterColor:Xe,getPatternList:Ye,getCardColor:Ze,getLuckyColor:el,getTextColor:ll,getCardSize:al,getTextSize:tl,getRowCount:ol,getIsShowPrizeList:sl,getLanguage:rl,getBackground:ul,getImageList:nl,getIsShowAvatar:cl}=d(s),{getAlreadyPersonList:dl,getNotPersonList:il}=d(V),pl=i(),bl=i(),ml=i(0),vl=i(Qe.value.name),fl=i(structuredClone(I.value)),xl=i(structuredClone(Ze.value)),wl=i(structuredClone(el.value)),gl=i(structuredClone(ll.value)),Cl=i(structuredClone(al.value)),hl=i(structuredClone(tl.value)),yl=i(structuredClone(ol.value)),kl=i(structuredClone(rl.value)),Ll=i(structuredClone(sl.value)),Vl=i(structuredClone(cl.value)),Pl=i(structuredClone(Xe.value)),Tl=i(Object.keys(L)),Ul=i(L),_l=i(ul.value),Sl=i({rowCount:yl}),Al=i({rowCount:""}),Dl=p.object({rowCount:p.number({required_error:T.global.t("error.require"),invalid_type_error:T.global.t("error.requireNumber")}).min(1,T.global.t("error.minNumber1")).max(100,T.global.t("error.maxNumber100"))}),Il={rowCount:Sl.value.rowCount};function Rl(){ml.value=2,setTimeout(()=>{const e=dl.value.length,l=il.value.length;if(e<=0&&l<=0)return;const a=dl.value.concat(il.value),t=a.slice(0,e),o=a.slice(e,l+e);V.deleteAllPerson(),V.addNotPersonList(o),V.addAlreadyPersonList(t,null),ml.value=0},1e3)}function zl(){s.setPatternList([])}function Nl(){s.resetPatternList()}function jl(){s.reset(),V.reset(),D.resetDefault(),window.location.reload()}return b(()=>Sl.value.rowCount,()=>{var e;Il.rowCount=Sl.value.rowCount,(e=Il,Dl.parseAsync(e)).then(e=>{e.rowCount&&(ml.value=1,s.setRowCount(e.rowCount))}).catch(e=>{Al.value.rowCount=e.issues[0].message})}),b(fl,e=>{s.setTopTitle(e)}),b(vl,e=>{const l=Ul.value[e];s.setTheme({name:e,detail:l}),_(e),l.primary&&(S(l.primary)||A(l.primary))&&s.setCardColor(l.primary)},{deep:!0}),b(xl,e=>{s.setCardColor(e)},{deep:!0}),b(wl,e=>{s.setLuckyCardColor(e)},{deep:!0}),b(Pl,e=>{s.setPatterColor(e)}),b(gl,e=>{s.setTextColor(e)},{deep:!0}),b(Cl,e=>{s.setCardSize(e)},{deep:!0}),b(Ll,()=>{s.setIsShowPrizeList(Ll.value)}),b(_l,e=>{s.setBackground(e)}),b(kl,e=>{s.setLanguage(e)}),b(Vl,()=>{s.setIsShowAvatar(Vl.value)}),m(()=>{}),(e,s)=>(t(),a(r,null,[o("dialog",{id:"my_modal_1",ref_key:"resetDataDialogRef",ref:bl,class:"border-none modal"},[o("div",z,[o("h3",N,v(f(l)("dialog.titleTip")),1),o("p",j,v(f(l)("dialog.dialogResetAllData")),1),o("div",q,[o("form",B,[o("button",{class:"btn",onClick:s[0]||(s[0]=e=>bl.value.close())},v(f(l)("button.cancel")),1),o("button",{class:"btn",onClick:jl},v(f(l)("button.confirm")),1)])])])],512),o("div",null,[o("h2",null,v(f(l)("viewTitle.globalSetting")),1),o("div",H,[o("button",{class:"btn btn-sm btn-primary",onClick:s[1]||(s[1]=e=>bl.value.showModal())},v(f(l)("button.resetAllData")),1)]),o("label",F,[o("div",O,[o("div",E,[o("span",G,v(f(l)("table.title")),1)]),x(o("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>fl.value=e),type:"text",placeholder:f(l)("placeHolder.enterTitle"),class:"w-full max-w-xs input input-bordered"},null,8,J),[[w,fl.value]])])]),o("label",M,[o("div",W,[o("div",$,[o("span",K,v(f(l)("table.columnNumber")),1)]),x(o("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>Sl.value.rowCount=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[w,Sl.value.rowCount]]),o("div",Q,[Al.value.rowCount?(t(),a("span",X,v(Al.value.rowCount),1)):g("",!0)])]),o("div",null,[o("div",{class:"tooltip","data-tip":f(l)("tooltip.resetLayout")},[o("button",{class:"mt-5 btn btn-info btn-sm",disabled:1!==ml.value,onClick:Rl},[o("span",null,v(f(l)("button.setLayout")),1),x(o("span",ee,null,512),[[C,2===ml.value]])],8,Z)],8,Y)])]),o("label",le,[o("div",ae,[o("span",te,v(f(l)("table.language")),1)]),x(o("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>kl.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border-1"},[o("option",oe,v(f(l)("table.language")),1),(t(!0),a(r,null,u(f(U),e=>(t(),a("option",{key:e.key,value:e.key},v(e.name),9,se))),128))],512),[[h,kl.value]])]),o("label",re,[o("div",ue,[o("span",ne,v(f(l)("table.theme")),1)]),x(o("select",{"onUpdate:modelValue":s[5]||(s[5]=e=>vl.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border-1"},[o("option",ce,v(f(l)("table.theme")),1),(t(!0),a(r,null,u(Tl.value,(e,l)=>(t(),a("option",{key:l,value:e},v(e),9,de))),128))],512),[[h,vl.value]])]),o("label",ie,[o("div",pe,[o("span",be,v(f(l)("table.backgroundImage")),1)]),x(o("select",{"onUpdate:modelValue":s[6]||(s[6]=e=>_l.value=e),"data-choose-theme":"",class:"w-full max-w-xs border-solid select border-1"},[o("option",me,v(f(l)("table.backgroundImage")),1),(t(!0),a(r,null,u([{name:"âŒ",url:"",id:""},...f(nl)],(e,l)=>(t(),a("option",{key:l,value:e},v(e.name),9,ve))),128))],512),[[h,_l.value]])]),o("label",fe,[o("div",xe,[o("span",we,v(f(l)("table.cardColor")),1)]),y(f(k),{ref_key:"colorPickerRef",ref:pl,modelValue:xl.value,"onUpdate:modelValue":s[7]||(s[7]=e=>xl.value=e),"pure-color":xl.value,"onUpdate:pureColor":s[8]||(s[8]=e=>xl.value=e)},null,8,["modelValue","pure-color"])]),o("label",ge,[o("div",Ce,[o("span",he,v(f(l)("table.winnerColor")),1)]),y(f(k),{ref_key:"colorPickerRef",ref:pl,modelValue:wl.value,"onUpdate:modelValue":s[9]||(s[9]=e=>wl.value=e),"pure-color":wl.value,"onUpdate:pureColor":s[10]||(s[10]=e=>wl.value=e)},null,8,["modelValue","pure-color"])]),o("label",ye,[o("div",ke,[o("span",Le,v(f(l)("table.textColor")),1)]),y(f(k),{ref_key:"colorPickerRef",ref:pl,modelValue:gl.value,"onUpdate:modelValue":s[11]||(s[11]=e=>gl.value=e),"pure-color":gl.value,"onUpdate:pureColor":s[12]||(s[12]=e=>gl.value=e)},null,8,["modelValue","pure-color"])]),o("label",Ve,[o("div",null,[o("div",Pe,[o("span",Te,v(f(l)("table.cardWidth")),1)]),x(o("input",{"onUpdate:modelValue":s[13]||(s[13]=e=>Cl.value.width=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[w,Cl.value.width]])]),o("div",null,[o("div",Ue,[o("span",_e,v(f(l)("table.cardHeight")),1)]),x(o("input",{"onUpdate:modelValue":s[14]||(s[14]=e=>Cl.value.height=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[w,Cl.value.height]])])]),o("label",Se,[o("div",Ae,[o("span",De,v(f(l)("table.textSize")),1)]),x(o("input",{"onUpdate:modelValue":s[15]||(s[15]=e=>hl.value=e),type:"number",placeholder:"Type here",class:"w-full max-w-xs input input-bordered"},null,512),[[w,hl.value]])]),o("label",Ie,[o("div",Re,[o("span",ze,v(f(l)("table.highlightColor")),1)]),y(f(k),{ref_key:"colorPickerRef",ref:pl,modelValue:Pl.value,"onUpdate:modelValue":s[16]||(s[16]=e=>Pl.value=e),"pure-color":Pl.value,"onUpdate:pureColor":s[17]||(s[17]=e=>Pl.value=e)},null,8,["modelValue","pure-color"])]),o("label",Ne,[o("div",null,[o("div",je,[o("span",qe,v(f(l)("table.patternSetting")),1)]),o("div",Be,[y(R,{"row-count":f(ol),"card-color":f(Ze),"pattern-color":f(Xe),"pattern-list":f(Ye)},null,8,["row-count","card-color","pattern-color","pattern-list"])])])]),o("div",He,[o("button",{class:"mt-5 btn btn-info btn-sm",onClick:n(zl,["stop"])},[o("span",null,v(f(l)("button.clearPattern")),1)]),o("div",{class:"tooltip","data-tip":f(l)("tooltip.defaultLayout")},[o("button",{class:"mt-5 btn btn-info btn-sm",onClick:Nl},[o("span",null,v(f(l)("button.DefaultPattern")),1)])],8,Fe)]),o("label",Oe,[o("div",Ee,[o("span",Ge,v(f(l)("table.alwaysDisplay")),1)]),o("input",{type:"checkbox",checked:Ll.value,class:"mt-2 border-solid checkbox checkbox-secondary border-1",onChange:s[18]||(s[18]=e=>Ll.value=!Ll.value)},null,40,Je)]),o("label",Me,[o("div",We,[o("span",$e,v(f(l)("table.avatarDisplay")),1)]),o("input",{type:"checkbox",checked:Vl.value,onChange:s[19]||(s[19]=e=>Vl.value=!Vl.value),class:"mt-2 border-solid checkbox checkbox-secondary border-1"},null,40,Ke)])])],64))}});export{Qe as default};
